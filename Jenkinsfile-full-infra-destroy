pipeline {
    agent any

    options {
        ansiColor('xterm')
    }

    stages {
        
        stage('VPC & DB') {
            steps {
                dir('vpc-n-db') {
                    git branch: 'main', url: 'https://github.com/praveenarupi/terraform-mutable-infra.git'
                    sh '''
            terrafile 
            terraform init -backend-config=env/prod-backend.tfvars
            terraform destroy -auto-approve -var-file=env/prod.tfvars
          '''
                }
            }
        }


    }


}